{{ define "main" }}

<article class="container">
    <!-- Hero Image Section -->
    <section class="bg-stone-50">
        <div class="max-w-[1250px] mx-auto md:px-4">
            <div class="relative overflow-hidden rounded-none md:rounded-lg">
                {{ with index .Params.images 0 }}
                    {{ partial "components/images/image-dynamic" . }}
                {{ end }}
            </div>
        </div>
    </section>

    <!-- Content Section -->
    <div class="bg-white">
        <div class="container py-12 md:py-16">
            <div class="mx-auto max-w-4xl">
                <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold leading-tight text-gray-900 mb-8">
                    {{ .Title }}
                </h1>
                
                <div class="prose md:prose-lg lg:prose-xl max-w-none prose-headings:font-bold prose-headings:text-gray-900 prose-headings:scroll-mt-24 prose-h2:text-2xl prose-h2:md:text-3xl prose-h2:lg:text-4xl prose-h3:text-xl prose-h3:md:text-2xl prose-p:text-gray-700 prose-p:leading-relaxed prose-a:text-[#e09a00] prose-a:no-underline hover:prose-a:underline prose-a:transition-colors prose-img:rounded-lg prose-img:shadow-lg prose-strong:text-gray-900 prose-strong:font-semibold">
                    {{ partial "components/prose-content.html" .}}
                </div>
            </div>
        </div>
    </div>
</article>

<!-- Related Activities Section -->
{{ with .Params.related_activities }}
    <section class="bg-[#f3f7f6] py-12 md:py-16">
        <div class="container">
            <div class="text-center mb-12">
                <h2 class="text-2xl md:text-3xl lg:text-4xl font-bold text-gray-900 mb-4">
                    Related Activities
                </h2>
                <p class="text-lg md:text-xl text-gray-700 leading-relaxed max-w-2xl mx-auto">
                    Experience these curated adventures inspired by this story
                </p>
            </div>
            
            <div class="grid grid-cols-1 gap-8 mx-auto">
                {{ range . }}
                    {{ $page := replace . "/index" "" }}
                    {{ with $.Site.GetPage $page }}
                        {{ .Render "highlight" }}
                    {{ end }}
                {{ end }}
            </div>
        </div>
    </section>
{{ else }}
    <!-- Default Call to Action -->
    <section class="bg-[#f3f7f6] py-12 md:py-16">
        {{ partial "activity/see-all-activities.html" . }}
    </section>
{{ end }}

{{ end }}